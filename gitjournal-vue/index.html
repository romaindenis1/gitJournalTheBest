<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>gitjournal-vue</title>
  </head>

  <canvas id="snowCanvas"></canvas>
  <script>
    const canvas = document.getElementById("snowCanvas");
    const ctx = canvas.getContext("2d");

    let w = (canvas.width = window.innerWidth);
    let h = (canvas.height = window.innerHeight);

    let flakes = [];

    function SnowFlake() {
      this.x = Math.random() * w;
      this.y = Math.random() * h;
      this.radius = Math.random() * 3 + 1;
      this.speed = Math.random() * 1 + 0.5;
      this.wind = Math.random() * 1 - 0.5;
    }

    SnowFlake.prototype.update = function () {
      this.y += this.speed;
      this.x += this.wind;
      if (this.y > h) {
        this.y = -this.radius;
        this.x = Math.random() * w;
      }
    };

    SnowFlake.prototype.draw = function () {
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
      ctx.fillStyle = "rgba(255,255,255,0.9)";
      ctx.fill();
    };

    function animate() {
      ctx.clearRect(0, 0, w, h);
      flakes.forEach((f) => {
        f.update();
        f.draw();
      });
      requestAnimationFrame(animate);
    }

    function initSnow() {
      flakes = [];
      for (let i = 0; i < 160; i++) flakes.push(new SnowFlake());
    }

    window.addEventListener("resize", () => {
      w = canvas.width = window.innerWidth;
      h = canvas.height = window.innerHeight;
      initSnow();
    });

    initSnow();
    animate();
  </script>

  <body>
    <ul class="lightrope">
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
      <li></li>
    </ul>

    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
  </body>
</html>
